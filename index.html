<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© ØªØµÙ†ÙŠÙ ÙØ¶Ø§Ø¦Ù„ ÙˆØ¢Ø¯Ø§Ø¨ Ø±Ù…Ø¶Ø§Ù†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f3f4f6;
            background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
        }
        .drag-item {
            cursor: grab;
            transition: transform 0.2s, background-color 0.2s;
            touch-action: none;
        }
        .drag-item:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        .drop-zone {
            min-height: 150px;
            transition: border-color 0.3s, background-color 0.3s;
        }
        .drop-zone.drag-over {
            background-color: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
        }
        .correct {
            background-color: #d1fae5 !important;
            border-color: #10b981 !important;
        }
        .wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

    <!-- Header -->
    <header class="text-center my-8">
        <h1 class="text-4xl font-bold text-emerald-800 mb-2">ğŸŒ™ Ù„Ø¹Ø¨Ø© ØªØµÙ†ÙŠÙ Ø±Ù…Ø¶Ø§Ù†</h1>
        <p class="text-lg text-emerald-600">ØµÙ†Ù Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„ØµØ­ÙŠØ­</p>
    </header>

    <!-- Game Container -->
    <main class="w-full max-w-5xl grid grid-cols-1 md:grid-cols-3 gap-6">
        
        <!-- Category 1: Virtues (Ø§Ù„ÙØ¶Ø§Ø¦Ù„) -->
        <div class="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-amber-500">
            <h2 class="text-xl font-bold text-center mb-4 text-amber-700">âœ¨ ÙØ¶Ø§Ø¦Ù„ Ø±Ù…Ø¶Ø§Ù† ÙˆØµÙŠØ§Ù…Ù‡</h2>
            <div id="virtues-zone" class="drop-zone border-2 border-dashed border-amber-200 rounded-xl p-4 flex flex-col gap-3" ondrop="drop(event)" ondragover="allowDrop(event)">
                <!-- Items dropped here -->
            </div>
        </div>

        <!-- Middle: Items to drag -->
        <div class="flex flex-col gap-4">
            <div class="bg-emerald-50 p-4 rounded-xl shadow-inner">
                <h3 class="text-center font-bold text-emerald-800 mb-4">Ø§Ø³Ø­Ø¨ Ù…Ù† Ù‡Ù†Ø§:</h3>
                <div id="items-container" class="flex flex-col gap-3">
                    <!-- Dynamic items will be injected here -->
                </div>
            </div>
            
            <button onclick="checkResults()" class="w-full py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition shadow-lg">
                ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª âœ…
            </button>
            <button onclick="resetGame()" class="w-full py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition">
                Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨ ğŸ”„
            </button>
        </div>

        <!-- Category 2: Etiquette (Ø§Ù„Ø¢Ø¯Ø§Ø¨) -->
        <div class="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-blue-500">
            <h2 class="text-xl font-bold text-center mb-4 text-blue-700">ğŸ“œ Ø¢Ø¯Ø§Ø¨ Ø§Ù„ØµÙŠØ§Ù…</h2>
            <div id="etiquette-zone" class="drop-zone border-2 border-dashed border-blue-200 rounded-xl p-4 flex flex-col gap-3" ondrop="drop(event)" ondragover="allowDrop(event)">
                <!-- Items dropped here -->
            </div>
        </div>

    </main>

    <!-- Feedback Modal -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center p-4">
        <div class="bg-white p-8 rounded-2xl max-w-sm w-full text-center">
            <div id="modal-icon" class="text-6xl mb-4"></div>
            <h2 id="modal-title" class="text-2xl font-bold mb-2"></h2>
            <p id="modal-message" class="text-gray-600 mb-6"></p>
            <button onclick="closeModal()" class="px-6 py-2 bg-emerald-600 text-white rounded-lg font-bold">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
    </div>

    <script>
        const gameData = [
            { id: 1, text: "ØªÙÙØªØ­ ÙÙŠÙ‡ Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ø¬Ù†Ø©", category: "virtues" },
            { id: 2, text: "ØªÙØºÙ„Ù‚ ÙÙŠÙ‡ Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ù†Ø§Ø±", category: "virtues" },
            { id: 3, text: "ØªÙØµÙØ¯ ÙÙŠÙ‡ Ø§Ù„Ø´ÙŠØ§Ø·ÙŠÙ†", category: "virtues" },
            { id: 4, text: "ÙÙŠÙ‡ Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø± (Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ø´Ù‡Ø±)", category: "virtues" },
            { id: 5, text: "Ù„Ø®Ù„ÙˆÙ ÙÙ… Ø§Ù„ØµØ§Ø¦Ù… Ø£Ø·ÙŠØ¨ Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù‡ Ù…Ù† Ø§Ù„Ù…Ø³Ùƒ", category: "virtues" },
            { id: 6, text: "ØªØ¹Ø¬ÙŠÙ„ Ø§Ù„ÙØ·ÙˆØ±", category: "etiquette" },
            { id: 7, text: "ØªØ£Ø®ÙŠØ± Ø§Ù„Ø³Ø­ÙˆØ±", category: "etiquette" },
            { id: 8, text: "Ø­ÙØ¸ Ø§Ù„Ù„Ø³Ø§Ù† Ø¹Ù† Ø§Ù„ÙƒØ°Ø¨ ÙˆØ§Ù„ØºÙŠØ¨Ø©", category: "etiquette" },
            { id: 9, text: "Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙØ·Ø§Ø±", category: "etiquette" },
            { id: 10, text: "Ø§Ù„Ø¬ÙˆØ¯ ÙˆÙ‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø¨ÙƒØ«Ø±Ø©", category: "etiquette" }
        ];

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function initGame() {
            const container = document.getElementById('items-container');
            container.innerHTML = '';
            document.getElementById('virtues-zone').innerHTML = '';
            document.getElementById('etiquette-zone').innerHTML = '';
            
            shuffle(gameData).forEach(item => {
                const div = document.createElement('div');
                div.id = `item-${item.id}`;
                div.className = 'drag-item bg-white p-3 rounded-lg shadow border border-gray-200 text-center font-medium text-gray-700';
                div.draggable = true;
                div.innerText = item.text;
                div.setAttribute('data-category', item.category);
                div.ondragstart = drag;
                
                // Touch support
                div.addEventListener('touchstart', handleTouchStart, {passive: false});
                div.addEventListener('touchmove', handleTouchMove, {passive: false});
                div.addEventListener('touchend', handleTouchEnd, {passive: false});
                
                container.appendChild(div);
            });
        }

        // Drag and Drop Logic
        function allowDrop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('drag-over');
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            const data = ev.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            
            if (ev.currentTarget.classList.contains('drop-zone')) {
                ev.currentTarget.appendChild(draggedElement);
            }
        }

        // Touch Logic
        let activeElement = null;
        function handleTouchStart(e) {
            activeElement = e.target;
            e.target.style.opacity = '0.5';
        }

        function handleTouchMove(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const element = activeElement;
            element.style.position = 'fixed';
            element.style.left = (touch.clientX - element.offsetWidth / 2) + 'px';
            element.style.top = (touch.clientY - element.offsetHeight / 2) + 'px';
            element.style.zIndex = '1000';
        }

        function handleTouchEnd(e) {
            const element = activeElement;
            element.style.opacity = '1';
            element.style.position = 'static';
            element.style.zIndex = 'auto';
            
            const touch = e.changedTouches[0];
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dropZones.forEach(zone => {
                const rect = zone.getBoundingClientRect();
                if (touch.clientX > rect.left && touch.clientX < rect.right &&
                    touch.clientY > rect.top && touch.clientY < rect.bottom) {
                    zone.appendChild(element);
                }
            });
            activeElement = null;
        }

        function checkResults() {
            const virtuesItems = document.getElementById('virtues-zone').children;
            const etiquetteItems = document.getElementById('etiquette-zone').children;
            const totalItems = gameData.length;
            let correctCount = 0;

            Array.from(virtuesItems).forEach(item => {
                if (item.getAttribute('data-category') === 'virtues') {
                    item.classList.add('correct');
                    correctCount++;
                } else {
                    item.classList.add('wrong');
                }
            });

            Array.from(etiquetteItems).forEach(item => {
                if (item.getAttribute('data-category') === 'etiquette') {
                    item.classList.add('correct');
                    correctCount++;
                } else {
                    item.classList.add('wrong');
                }
            });

            showModal(correctCount, totalItems);
        }

        function showModal(correct, total) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modal-title');
            const msg = document.getElementById('modal-message');
            const icon = document.getElementById('modal-icon');

            modal.classList.remove('hidden');
            
            if (correct === total) {
                icon.innerText = 'ğŸ‰';
                title.innerText = 'Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹!';
                msg.innerText = `Ù„Ù‚Ø¯ Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ (${correct}/${total})`;
            } else if (correct > total / 2) {
                icon.innerText = 'â­';
                title.innerText = 'Ø¹Ù…Ù„ Ø¬ÙŠØ¯!';
                msg.innerText = `Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${correct} Ù…Ù† Ø£ØµÙ„ ${total}. Ø­Ø§ÙˆÙ„ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±.`;
            } else {
                icon.innerText = 'ğŸŒ™';
                title.innerText = 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
                msg.innerText = `Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${correct} Ù…Ù† Ø£ØµÙ„ ${total}. Ø±Ø§Ø¬Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ÙˆØ­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.`;
            }
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
        }

        function resetGame() {
            initGame();
            closeModal();
        }

        // Initialize on load
        window.onload = initGame;
    </script>
</body>
</html>
    
  </body>
  
</html>
